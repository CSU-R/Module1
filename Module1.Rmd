--- 
title: "R Module 1"
author: 
  - "Alex Fout^[Department of Statistics, Colorado State University, fout@colostate.edu]"
date: "`r Sys.Date()`"
output:
  html_document:
    df_print: paged
  pdf_document: default
#always_allow_html: true # warning, this may be risky. If you use, you need to verify that pdf isn't missing anything important.
description: This is the book for the R Intro Course at CSU.
documentclass: book
link-citations: yes
bibliography:
- src/book.bib
site: bookdown::bookdown_site
biblio-style: apalike
---


# Welcome!

```{r, knitr_options, echo=FALSE, results='hide', message=FALSE}
# fig.align="center"  centers figures
# comment=NA          remove "##" from R output
# results="hold"      don't interleave chunk code and output, but hold all output until end of chunk.
# class.source="chunk-style"     Use the CSS style "chunk-style" to style code chunks
# class.output="output-style"    Use the CSS style "output-style" to style output of code chunks
knitr::opts_chunk$set(fig.align="center", comment=NA, results="hold", class.source="chunk-style", class.output="output-style")

library(kableExtra)
library(lubridate)
start_date <- ymd("2020/07/13")
# designed as a four week course that "meets" 3 times per week.
course_dates <- start_date + sort(as.vector(outer(c(0, 2, 4), c(0, 7, 14, 21), "+")))

r_version <- "4.0.1"
```

Hi, and welcome to the R Module 1 course at Colorado State University!

This course is the first of three 1 credit courses intended to introduce the R programming language to those with little or no programming experience.

Through these Modules (courses), we'll explore how R can be used to do the following:

1. Perform basic computations and logic, just like any other programming language
1. Load, clean, analyze, and visualise data
1. Run scripts
1. Create reproducible reports so you can explain your work in a narrative form

In addition, you'll also be exposed to some aspects of the broader R community, including:

1. R as free, open source software
1. The RStudio free software
1. Publicly available packages which extend the capability of R
1. Events and community groups which advocate for the use of R and the support of R users

More detail will be provided in the Course Topics laid out in the next chapter.

### How To Navigate This Book

To move quickly to different portions of the book, click on the appropriate chapter or section in the the table of contents on the left.
The buttons at the top of the page allow you to show/hide the table of contents, search the book, change font settings, download a pdf or ebook copy of this book, or get hints on various sections of the book.
The faint left and right arrows at the sides of each page (or bottom of the page if it's narrow enough) allow you to step to the next/previous section.
Here's what they look like:
```{r, echo=F, fig.cap="Left and right navigation arrows", fig.show="hold", results='asis'}
knitr::include_graphics("src/images/left_arrow.png")
knitr::include_graphics("src/images/right_arrow.png")
```



## Associated CSU Course

This bookdown book is intended to accompany the associated course at Colorado State University, but the curriculum is free for anyone to access and use.
If you're reading the PDF or EPUB version of this book, you can find the "live" version at [https://csu-r.github.io/Module1/](https://csu-r.github.io/Module1/), and all of the source files for this book can be found at [https://github.com/CSU-R/Module1](https://github.com/CSU-R/Module1).


<!--chapter:end:index.Rmd-->

# Course Preliminaries {#prelim}

This course is presented as a [bookdown](https://bookdown.org/) document, and is divided into chapters and sections
Each week, you'll be expected to read through the chapter and complete any associated exercises, quizzes, or assignments.


### Special Boxes

Throughout the book, you'll encounter special boxes, each with a special meaning.
Here is an example of each type of box:


```{block, type='reflect'}
This box will prompt you to pause and reflect on your experience and/or learning. No feedback will be given, but this may be graded on completion.
```

```{block, type='assessment'}
This box will signify a quiz or assignment which you will turn in for grading, on which the instructor will provide feedback.
```

```{block, type='progress'}
This box is for checking your understanding, to make sure you are ready for what follows.
```

```{block, type='video'}
This box is for displaying/linking to videos in order to help illustrate or communicate concepts.
```

```{block, type='caution'}
This box will warn you of possible problems or pitfalls you may encounter! 
```

```{block, type='bonus'}
This box is to provide material going beyond the main course content, or material which will be revisited later in more depth.
```

```{block, type='feedback'}
This box will prompt for your feedback on the organization of the course, so we can improve the material for everyone!
```

### How This Book Displays Code

In addition, you may see R code either as part of a sentence like this: `1+1`, or as a separate block like so:
```{r, example_codeblock}
1+1
```

Sometimes (as in this example) we will also show the __output__ , that is, the result of running the R code. In this case the code `1+1` produced the output `2`.
If you hover over a code block with your mouse, you will see the option to copy the code to your clipboard, like this:
```{r, fig.cap="copying code from this book", echo=F}
knitr::include_graphics("src/images/copy_code.png")
```
This will be useful when you are asked to run code on your computer.

### Next Steps

When you're ready, go to the next section to learn about the course syllabus and grading policies.



## Course Topics \& Syllabus

TODO: coming soon!


### Schedule

```{r, schedule, echo=F}
sched <- data.frame(
  Week = 1 + isoweek(course_dates) - isoweek(start_date),
  Weekday = wday(course_dates, label=T, abbr=F),
  Date = format(course_dates, "%B %d"),
  Reading = rep("", 12),
  Assignments = rep("", 12)
)
knitr::kable(sched) %>% kable_styling()
```

### Syllabus


### Approach To Learning

* growth mindset
* do-first

### Grading


## Running your first R Code

Enough of the boring stuff, let's run some R code!
Normally you will run R on your computer, but since you may not have R installed yet, let's run some R code using a website first.
As you run code, you'll see some of the things R can do.
In a browser, navigate to [rdrr.io/snippets](https://rdrr.io/snippets/){target="_blank"}, where you'll see a box that looks like this:

```{r, fig.cap="rdrr code entry box", echo=F}
knitr::include_graphics("src/images/rdrr.png")
```

The box comes with some code entered already, but we want to use our own code instead, so delete all the text, starting with `library(ggplot2)` and ending with `factor(cyl))`.
In it's place, type `1+1`, then click the big green "Run" button.
You should see the `[1] 2` displayed below.
So if you give R a math expression, it will evaluate it and give the result.
Note: the "correct answer" to $1+1$ is `2`, but the output also displays `[1]`, which we won't explain until later(TODO), so you can ignore that for now.

Next, delete the code you just wrote and type (or copy/paste) the following, and run it:
```{r, eval=F}
factorial(10)
```
The result should be a very large number, which is equivalent to $10!$, that is, $10\times9\times8\times7\times6\times5\times4\times3\times2\times1$.
This is an example of an R _function_, which we will discuss more in Section (TODO: insert ref).

Aside from math, R can produce plots. Try copy/pasting the following code into the website:
```{r, eval=F}
x <- -10:10
plot(x, x^2)
```
You should see points in a scatter plot which follow a parabola.
Here's a more complicated example, which you should copy/paste into the website and run:
```{r, eval=F}
library(ggplot2)
theme_set(theme_bw())
ggplot(mtcars, aes(y=mpg, fill=as.factor(cyl))) + 
  geom_boxplot() + 
  labs(title="Engine Fuel Efficiency vs. Number of Cylinders", y="MPG", fill="Cylinders") + 
  theme(legend.position="bottom", 
        axis.ticks.x = element_blank(),
        axis.text.x = element_blank())
```
R can be used to make many types of visualizations, which you will do more of in Section (TODO: insert ref).


```{block, type="bonus"}
This may be the first time you've seen R, so it's okay if you don't understand how to read this code. We'll talk more later about what each statement is doing, but for now, here is a brief description of some of the code above:

- `-10:10` This creates a sequence of numbers starting from -10 and ending at 10. That is, $-10, -9, -8, \ldots, 8, 9, 10$.
- `library` This is a function which loads an R _package_. R packages provide extra abilities to R.

```



## What do you hope to get out of this course?  {#getoutoftheclass}

To close out this chapter, it would be healthy for you to reflect on what you'd like to get from this course. 
Take some time to think through each question below, and write down your answers.
It is fine if your honest answer is _I don't know_. 
In that case, try to come up with some possible answers that _might_ be true.

```{block, type="reflect"}
1. Why are you taking this course?
1. If this course is required for your major, how do you think it is supposed to benefit you in your studes?
1. What types of data sets related to your field of study may require data analysis?
1. What skills do you hope to develop in this course, and how might they be applied in your major and career?
```
TODO: canvas assignment?

Store your answers in a safe place, and refer to them periodically as you progress through the course.
You may find that you aren't achieving your goals and that some adjustment to how you are approaching the course may be necessary.
Or you may find that your goals have changed, which is fine!
Just update your goals so that you have something to refer back to.

<!--chapter:end:src/01-CoursePreliminaries.Rmd-->

# Installing R {#installingr}

In the previous chapter, you ran R code on a website.
The purpose of this chapter is to install R on your own computer, so that you can run R without needing access to the internet.

## Computer Basics

If you're new to computers, this section will be important for you to get set up.
If you understand the basics of operating systems, directory structures on your computer, and downloading/installing files, then you can safely skip to the next section.

### Operating Systems

R works on Windows, Mac OS X, and several Linux-based operating systems, so if you have one of these operating systems, you'll be able install and use R. 
At least, this is mostly true. 
```{block, type="caution"}
Some versions of Windows that run on ARM processors cannot install R, and installing R on a Chromebook will likely be more complicated (see [here](https://francish.netlify.app/post/installing-r-and-rstudio-on-a-pixel-slate/){target="_blank"}).
```

### Downloads and Installations

To install R, you'll have to download a file from the internet which performs the installation.
After you install R, you shouldn't have to download anything to run R.

TODO: take out?


## Install R \& R Studio

You'll actually be installing _two_ separate programs, both of which are free to use.
The _first_ is the R programming language.
The _second_ is a separate program called R Studio.
R Studio will be the primary way in which you interact with R in this class, we will say more about this later.


### Installing R

Installation will look slightly different depending on the operating system, but the major steps are the same. 

- First, navigate to the [CRAN Mirrors Site](https://cran.r-project.org/mirrors.html), which lists several locations from which R can be downloaded. 
- Find a location near you (or not, this isn't critical) and click on the link to be brought to the mirror site.

From this point, this will change depending on your operating system.

#### Windows

- Click "Download R for Windows", then click "base". 
- Finally, Click "Download R X.Y.Z for Windows", where X, Y, and Z will be numbers. These numbers indicate which version of R you'll be installing. As of the publishing of this book, R is on version `r_version`.
- any other settings. Your computer might prompt for the location on your computer that you would like to save the file. Select a location (reasonable options are your Downloads folder or the Desktop) and select "save".
- When the download completes, find the downloaded file in the File Explorer and double click to run it. This will start the installation process.
- Follow the on screen prompts. For the most part you can click "continue", "agree", "install" as appropriate, and you don't have to worry about changing any installation settings.

```{block, type="video"}
Create windows R install Video
```

#### Mac OS X

- Click "Download R for (Mac) OS X"
- Click "R-X.Y.Z.pkg", where X, Y, and Z will be numbers. These numbers indicate which version of R you'll be installing. As of the publishing of this book, R is on version `r_version`.
- Your computer might prompt for the location on your computer that you would like to save the file. Select a location and select "save".
- When the download completes, find the downloaded file in the Finder and double click to run it. This will start the installation process. 
- Follow the on screen prompts. For the most part you can click "continue", "agree", "install" as appropriate, and you don't have to worry about changing any installation settings.

```{block, type="video"}
?Ben? install from Mac OS X?
```


### Installing R Studio

## Successfull Installation

TODO: add some basic tasks here to make sure R and RStudio work. (screenshots?)

```{block, type="video"}
todo: video orienting to R Studio (Matt video?)
```


```{block, type="assessment"}
todo: create assessment
```


## Running Code in RStudio Console

TODO: repeat online examples + Pull from here: https://geanders.github.io/RProgrammingForResearch/r-preliminaries.html

```{block, type="progress"}
R comes pre-loaded with several datasets that are used in many examples. One is a set of 150 measurements of irises from 3 species. 

Use `mean(iris$Petal.Length)` to find out what the mean petal length is. 
```

## Workspace setup

### Recommended Settings

- don't save/load workspace
- how to adjust font size (in options and with ctrl +/-)
- dark mode!

### Setting working directory

- 

### Create R Studio Project and directories for class

TODO: pull from: https://geanders.github.io/RProgrammingForResearch/r-preliminaries.html#r-scripts

Note: This will automatically set your working directory

Folder structure:

- Raw Data
- Assignments
- 


## Reflection \& Assignment

```{block, type="reflect"}
Before moving on to the next section, take a note of all you've done so far. 

1. Did your R installation go smoothly? If not, could you troubleshoot the errors or find help online?

2. Does using R remind you of other programs you have experience with? 

3. What could be some reasons that using R code written by someone else might not work on your computer?
```

TODO: Kathleen thought this could be a progress check, I think we can have it be the first homework. 
```{block, type="assessment"}
todo: create R script to do some math, then turn in.
provide template with comment block at the top
```

<!--chapter:end:src/02-InstallingR.Rmd-->

# The R Ecosystem  {#recosystem}

## The R Programming Language

There are many important qualities to R, here are some of the most important

### R is a Programming Language


```{block, type="bonus"}

```

### R is Free

### R is Open Source

## The R Ecosystem

### R Packages


```{block, type="bonus"}
Other notable packages
```

## R Interfaces

### Where can R be run?

```{block, type="video"}
Video comparing the three, perhaps showing the difference between the three.
```

## Assignment

```{block, type="assessment"}

```

### R Interfaces

- RStudio
- RGui
- Terminal/Command line

## The R Community

- Users
- Package developers

Popular "places" that R users hang out:

Interact 

TODO: need more ideas here.

Helping each other out

Where you can get help:


- Stack Overflow 
- Google!

```{block, type="bonus"}
link to some cool visualizations, communities, etc.
```

<!--chapter:end:src/03-TheREcosystem.Rmd-->

# R Programming Fundamentals



## Programming Preliminaries

```{block2, type="reflect"}

1. Look at a sentence in a language you don't know, look carefully at the symbols, spacing and characters. 
1. Recall learning a foreign language, how you had to learn the syntax and grammar rules.
1. Now think about English (or another language you know well) and think about the syntax and grammar rules that you take for granted. 

```

TODO: talk about syntax and grammar

All human languages rely on a set of rules called grammar, which describe how the language should be used to communicate.
When two humans communicate with a language, they both must agree on the the rules of that language.
R also has rules that must be followed in order for a human ( _you_ ) to communicate with a computer, in order to tell the computer what to do.
In human language, grammar is often fluid and evolving, and two people may have to adapt their use of the language in order to communicate.
With R, the fules are fixed, and the computer "knows" them perfectly.
Therefore it is up to you to learn the rules in order to make the computer do exactly what you want it to do.

Therefore it's important to cover some of the basic rules of the R programming language before you can learn all of the things R can do. 
So here they are:

### R Commands

Like most programming languages, R consists of a set of _commands_ which form the sequence of instructions which the computer completes. Here is an example of a command, followed by the result.

```{r}
print("hello, world!")
```

This command is telling R to print out a message.
R code usually contains more than one command, and typically each command is put on a separate line.
Here are multiple commands, each on a separate line:

```{r}
print("The air is fine!")
print(1+1)
print(4 > 5)
```

The first command prints another message, the second command does some math then then prints the result, and the third command evaluates whether the statement is true or false and prints the result. 
Generally, it's a good idea to put separate commands on separate lines, but you _can_ put multiple commands on the same line, __as long as you separate them by a semicolon__.
See this code for example:

```{r}
x <- 1+1; print(x); print(x^2)
```

In this example, three commands are given on one line.
The first command creates a new _variable_ called `x`, the second command prints the value of `x`, and the third command prints the value of `x` _squared_.
We see that the semicolon, `;`, serves as the command _termination_, because it tells R where one command ends and another begins.
When a line contains a single command, no semicolon in necessary at the end, but including a semicolon doesn't have any effect either.
```{r, class.source="chunk-style"}
print("This line doesn't have a semicolon")
print("This line does have a semicolon");
```
```{block, type="caution"}
Including multiple semicolons (e.g. `print("hello");;`) does not work!
```

```{block, type="bonus"}
You've just seen your first example of _assignment_.
That is, we created a thing called `x` , and _assigned_ to it the value of `1+1` using the _assignment operator_, `<-`.
Formally `x` is called an object, but we'll talk about that more objects and assignments later.
```


TODO: make these code blocks display on multiple lines:
```{block, type="bonus"}
So far, we've seen that you can place one command on one line, multiple commands on multiple lines, multiple commands on one line, so you may ask: can you can place one command on multiple lines?
The answer is _sometimes_, depending on the command.
Generally, if R is expecting the end of a command but doesn't see one by the time it gets to the end of a line, it will continue looking on the next line. 
Here are some examples:
`1 + \
1`

`
print("This string is on 
multiple lines")
`

```

```{block, type="caution"}
At this point, we've introduced several new types of R commands (assigning a variable, squaring a number, etc.), and we will talk more specifically about these later. The important part of this section is how R code is arranged into different _commands_
```

Lastly, commands can be "grouped together" using left and right curly braces: `{` and `}`.
Here's an example:

```{r}
{
  print("here's some code that's all grouped together")
  print(2^3 - 7)
  w <- "hello"
  print(w)
}
```

The above grouped code is indented so that it looks nice, but it doesn't have to be:

```{r}
{
print("here's some code that's all grouped together")
print(2^3 - 7)
w <- "hello"
print(w)
}
```

```{block, type="bonus"}
Indenting is an example of coding _style_, which are formatting decisions which don't affect the results of the code, but are meant to enhance readability.
We'll talk more about coding style later.
TODO: talk about style later.
In some programming languages, Python for example, white space matters. That is, code indents and other spaces change the way the code runs. In R, white space _does not_ matter, so things like indents are used purely for readability.
```

What does it mean to "group" code?
At this point there is no practical difference, each command gets executed whether or not it is grouped inside curly braces.
However, code grouping will become very important later on, when we discuss _control flow_ in section (TODO: add ref).

```{block, type="progress"}
In RStudio, open a new R script and type in all the R commands from this section, to verify that you get the same result. It's good practice!
```


### Comments

When writing R code, you may wish to include notes which explain the code to your future self or to other humans.
This can be done with _comments_, which are ignored by R when it is running the code. 
The "#" comment
Here's an example of some comments:

```{r}
# Let's define y and z
y <- 8
z <- y + 5 # adding 5 to y and assigning the result to z
## This is still a comment, even though we're using two #'s
```

TODO: add note in strings section about special characters and blocks

Notice that it's possible for a line to contain only a comment, or for part of a line to be a comment. 
R decides which part of a line is a comment by looking for the first "#", and everything after that will be treated as a comment and ignored.



```{block, type="caution"}
R ignores comments, but you should _not_! If you're reading code that someone else has written, it's likely that also paying attention to their comments will greatly help you to understand what their code is doing. 
It's also courteous to make good comments in your own code, if only because you may have to return to your _own_ code in the future and re-learn what it is doing!
In this book, we will use comments to help explain the R code that you will see.
```


### Blank Lines

Blank lines in R are ignored, but they can be used to organize code and enhance readability:

```{r}
print("The sky is blue")
# the blank line below here is ignored

print("The grass is green")
```

### CaSe SeNsItIvItY

In R, variables, functions, and other objects (all of which we'll talk about later), have names.
These names are case sensitive, so you must be careful when referencing an object by name.
Here we create two variables and give them different values, notice how they are different from each other:

```{r}
A <- 4
a <- 5

print(a)
print(A)
```
This may seem obvious, but case sensitivity applies to functions (which we'll talk about later) too. 
We've been using the `print` function a lot in the above examples, which begins with a lower case p. 
There is no `Print` function:

```{r, error=TRUE}
Print("testing")
```

### ?
One _very_ nice thing in R is the documentation that accompanies it.
Every function included in R (like `print`) has documentation that explains how that function works.
To access the documentation, use a `?` followed by the name of the function, like so:

```{r, eval=FALSE}
?print
```

```{block, type="progress"}
The output of the above code chunk is not shown, because the result of this code is best viewed in RStudio. Go to R Studio and type in `?print` and observe what happens!
```

### ??

If you don't remember the exact name of a function, or would like to search for general matches to a topic, then you can use `??`.
For example, trying `?Print` produces an error, because there is not `Print` function (remember, R is case sensitive), so there's no documentation to go with it.
However, the following should still work:

```{r, eval=FALSE}
??Print
```

```{block, type="bonus"}
Programmers have a sense of humor, too! Try running `????print` to see a small joke. Remember, comedic taste varies!
```


TODO: put these bonus blocks in more appropriate places:
```{block, type="bonus"}
https://rstudio.com/wp-content/uploads/2016/10/r-cheat-sheet-3.pdf
```
```{block, type="bonus"}
Want to know more about R syntax? Try typing `?Syntax` in the R console (then press `Enter`).
```


```{block, type="caution"}
As we've seen, symbols and characters have specific meaning in R. You must be careful not to ignore things like semicolons, curly braces, parentheses, when reading R code. This takes practice!
```

Okay, now that we've covered some of the basics, it's time to start learning how to do useful things in R!
The next few sections will describe the different types of data that R can handle.

## Data Types

```{block, type="reflection"}
TODO: what should this be?
```


R can store and manipulate different pieces of information, called data, and these data can be of several different types.
Here are some examples of different types of data:

```{r}
a <- 12.34      # a is a number
b <- "Hello"    # b is a string of characters
c <- TRUE       # c is a special type of data that is either true or false
```

R has special names for these examples, and there are other types of data as well.
Below, we'll talk about each data type, one at a time.

```{block, type="bonus"}
The term "data" is actually plural! A single piece of data is called a "datum". So to refer to a set of data, you would say "these data", and to refer to a single piece of data, you would say "this datum".
```

### Numeric

Many data exist as numbers, and R has a specific data type for storing those numbers, called the _numeric_ data type. 
Here are some examples:

```{r}
a <- -11
b <- 13.37
c <- 1/137
```

Note that integers, decimals, and fractions are all examples of numeric data in R.
We can prove that these are all the same data type using the `class` function:

```{r}
class(a)
```
```{r}
class(b)
```
```{r}
class(c)
```

When you have numeric data, you may want to perform math operations on them.
R has a number of built in functions to deal with numeric data, here are some examples:

```{r}
print(a + b)  # Add two numeric values
print(b - c)  # subtract two numeric values 
print(a * b)  # multiply two numeric values
print(a^3)    # take the cube of a numeric value
```

When performing math on numeric data, R will obey [order of operations](https://en.wikipedia.org/wiki/Order_of_operations), so the following two examples will give different results:

```{r}
a + b * c    # R will perform the multiplication before the addition
```
```{r}
(a + b) * c  # R will perform the addition first, then the multiplication 
```

Notice that we've added extra spaces in the code to help you understand what's going on.
This is another example of code _style_, which we'll talk more about later.

Notice all the decimal points?
R can be very precise when performing computations.
However, viewing all of the digits stored by R can be distracting and hard to read.
You can show just some of the digits by using the `round` function:

```{r}
a
```

```{r}
round(a, 3)
```
It also turns out that R stores _more_ digits than what it shows when it prints, though we won't go into detail on that now.

TODO: talk about Inf, -Inf, and NaN?

### Integer

In general, numeric data in R are treated as if they can be any decimal number (technically, they are a _double precision_ number, if you know what that means).
However, there is a way to specify that a specific numeric type is an integer, by placing an "L" at the end of it, like so:
```{r}
x <- 20   # x will be a numeric type
y <- 20L  # y will be an integer type
```
```{r}
class(x)
```
```{r}
class(y)
```
Integers take half of the space in a computer's memory or hard drive, so if you are working with or storing a lot of numbers which are integers, it might make sense to declare them as integer type in R.
This will make more sense when we discuss vectors later.


### Character

Not all data are numbers! 
R also has the capability to store strings of characters, and this is the aptly named _character_ type (or sometimes called a _character string_ or just _string_).
Here are some examples:
```{r}
d <- "Hello"         # This string is defined with   *double*   quotes 
e <- 'how are you?'  # This string is defined with   *single*   quotes!
print(d)
print(e)
```

Notice how we can define character strings using single quotes or double quotes, as long as we are consistent. 
So this is not valid:

```{r, error=TRUE}
# Note the mismatched single/double quotes:
f <- "this does not work' 
```
So, make sure you are consistent. 
However, you may see another problem with this: some strings contain quotes _in them_, like this:

```{r, error=TRUE}
g <- 'This won't work'
```
Since single quotes are being used to define the string, they can't be used in the string itself, because R will "think" the string is ending at the second `'`.
One option is to change the defining quotes to be double quotes, then the single quote will be safely included in the string:

```{r}
g <- "I'm happy that this works!"
print(g)
```
Another option is to use a backslash when using quotes inside the string, so that R "knows" the quote is part of the string and not ending the definition of the string:

```{r}
g <- 'I\'ve found another way that works!'
print(g)
```

Notice that when we define `g` we place a `\'` anywhere in the string where we want a `'` to be, but when printed out, we see that R has interpreted it as just a `'`. 
Notice also that we didn't have to change the defining quotes to be double quotes in this case.
The backslash is called the _escape character_, and it signifies that what follows it should be interpreted _literally_ by R, and any special meaning should be ignored. 

```{block, type="bonus"}
Since backslash also has special meaning itself, if you want a backslash in your string, you need to use another escape character, like so: `g <- "here is a backslash: \\"`

To see a list of special characters, try typing `?Quotes` into the R console
```

Here is a special string:

```{r}
h <- ""              # This string is empty!
```

`h` is a character string with no characters, called an _empty string_.

You can perform math on numeric data, so what can you do with strings?
The answer is, quite alot, using some functions that R provides.
Here are some of them:

```{r}
nchar(g)   # This prints out the number of characters in a string
```

```{r}
substr(g, 6, 10)   # This extracts just part of a string, using the start and stop positions you provide
```

```{r}
strsplit(g, " ")   # This splits the string up using a specified "delimiter" string, a single space in this case. 
```
```{block, type="bonus"}
When you split a string, this produces a _list_ containing a _vector_ of character strings. This is an example of how data can be organized in a structured way. 
We'll talk more about so called _data structures_ in the next section.
```

```{r}
paste("hello", "world")   # This combines multiple strings together into one string!
```

```{block, type="reflect"}
Remember that you can learn more about a function using `?`. Type `?paste` into R and read the documentation carefully. Can you determine what the "sep" argument does? What do you think would happen if we ran the code `print("hello", "world", sep="-")`?
```


There are other ways of manipulating strings, but we'll return to this later.

### Logical

Numeric data can be any number, character types can be any string of characters, but logical data types can only be two different values: True or False
Logical data types are also known as ["boolean" data types](https://en.wikipedia.org/wiki/Boolean_data_type).
Here we define some Logical types:
```{r}
a <- TRUE
b <- FALSE
c <- T
d <- F
```
```{r}
print(a)
```
```{r}
print(b)
```
```{r}
print(c)
```
```{r}
print(d)
```

So you can see that we can define a logical type using the full name or just the first letter. 
Logical data are the simplest type, but there are actually some clever things you can do with them.
You can test whether simple mathematical expressions are true or false. 
```{r}
# create x and y
x <- 3
y <- 4
# check: is x less than y? (should give TRUE)
x < y
```
The third command is a way to check if the value of `x` is less than the value of `y`.
The result of this comparison is a logical, in this case, `TRUE`.
Here are other ways of making comparisons:
```{r}
x <= y  # check if x is less or equal to y
```

```{r}
x == y  # check if x is equal to y (note how you need two equals signs)
```

```{r}
x >= y  # check if x is greater or equal to y 
```

```{r}
x >= y  # check if x is greater than y 
```
Comparisons can be made using strings as well:

```{r}
x <- "Hello"
y <- "hello"
x == y
```
```{block, type="caution"}
Remember that R is case sensitive, and two strings must be _exactly_ the same to be considered equal.
```

Of course any object (like `x`) will be equal to itself:
```{r}
x == x
```

Surprisingly, logicals can be treated as numerics, where `TRUE` is treated as `1` and `FALSE` is treated as `0`.
Here are some examples:

```{r}
TRUE + TRUE  # TRUE is treated as 1
```

```{r}
FALSE * 7  # FALSE is treated as 0
```

```{r}
(2 < 3) + (1 == 2)  # What's going on here? 
```
The last example deserves some thought. Start with each expression in parentheses, and decide whether it will evaluate to true or false.
Then remember how logicals are treated as numbers, and determine what happens when you add them together.

```{block2, type="bonus"}
Numeric, integer, character, and logical data types are probably the most important data types to know in R, but there are others that were not covered here.
These include:

- complex
- factor
- raw

At least one of these (factor) will be covered later, but you can find more information about the other types [here](https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/)

```

```{block2, type="progress"}
In the R console, type the following R commands and observe the result

`x <- "5"`

`y <- 5`

`z <- (x == y)`

1. What data type is x?
1. What data type is y?
1. What data type is z?
1. What is the value of z, and why does this make sense?

```

Now that we've discussed different types of data, we'll now see how they can be structured together in meaningful ways. 

## Data Structures

```{block, type="reflection"}
Imagine a grocery list, shopping list, or to-do list. That list consists of a set of items in a specified order, and the list also has a length. Why do you think it's useful to organize these items into a list, rather than in some other fashion? Can you think of why it might be useful to store data in a list?
```

Often, you will need to work with many data of the same type, for example:
- A sequence of measurements through time
- A grid of values
- A set of phone numbers

In these circumstances, it would make sense to organize the data into a data structure. 
R provides multiple data structures, each of which are appropriate in various situations

### Vectors

A vector is just an ordered set of elements (in other words, _data_), all of which have the same data type.
Vectors can be created for the logical, numeric (double or integer), or character data types.
Here's an example of a vector:

```{r}
x <- c(1, 2, 3)  # this is a vector of numeric types
print(x)
```

Note that to create a vector, we use the `c` function, where c stands for _combine_.
This makes sense, because we are combining three numeric objects into a numeric vector.
We may determine the length of any atomic vector like so:

```{r}
length(x)
```
The `class` function will tell us what type of data is stored in a vector (which makes sense, because all elements of the vector have the same data type).
```{r}
class(x)
```
Here's how to create logical or numeric vectors:
```{r}
y <- c(TRUE, TRUE, FALSE, TRUE)
z <- c("to", "be", "or", "not", "to", "be") 
```
```{r}
class(y)
```
```{r}
length(y)
```
```{r}
class(z)
```
```{r}
length(z)
```
```{block2, type="reflect"}
The above statement states that all elements of a vector must have the same data type, so what do you think will happen if you try to create a vector using elements from different data types?
Here are some possibilities, can you think of another one?

- R will produce an error
- R will combine the elements somehow, but the result won't be a vector
- Something else?

Whatever happens, humans were behind the decision of how R should behave in this situation.
If you were in charge of making this decision, what would make the most sense?

```
```{block, type="progress"}
Let's try to create a vector of mixed type and see what happens.
Run the following commands in R and think about the output:

`m <- c(TRUE, "Hello", 5)`

`class(m)`

`print(m)`

What changes did R make when creating the vector?

```



```


### Another Data Type? Factors


## Practice

```{block, type="progress"}
asdf
```

## R Objects

### _Everything_ is an object in R

### Assigning Objects


```{block, type="bonus"}
asdf
```


### Inspecting objects

str, names, dim


### Null Objects



## Quiz
```{block, type="assessment"}
asdf
```


## Loading / Saving Data

### "Taster"(?) list of file forms and sources

### reading/writing csv

### Best practices

principles of Tidy Data (wickham 2014)

raw data as read only

## Downloading and Saving

```{block, type="video"}
downloading and saving example csv from canvas or website
```

## Working With Data

### Summarizing vectors

Mean, std, etc.

### Summarizing matrices

### Summarizing vectors

### Basic Plotting

```{block, type="bonus"}
ggplot example
```

### Basic indexing

### Advanced indexing

```{block, type="bonus"}
dplyr example
```

## Practice

```{block, type="progress"}
asdf
```

## Basic Control Flow

If/else

loops (for, while)

switch

## Advanced Control Flow

*apply family

## Writing FUnctions

Function scope

```{block, type="bonus"}
- Pass by value, contrast with other languages
```

## Working With Popular Packages



## Assignment

```{block, type="assessment"}
Make R Markdown PDF that covers most/all of CH4: read in data, do basic things with it.
```

<!--chapter:end:src/04-RProgrammingFundamentals.Rmd-->

